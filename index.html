<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Football Team Picker</title>

<style>
*{box-sizing:border-box;font-family:tahoma}
body{
  margin:0;
  color:#fff;
  overflow-x:hidden;
}

/* ===== Video Background ===== */
.video-bg{
  position:fixed;
  inset:0;
  z-index:-1;
}
.video-bg video{
  width:100%;
  height:100%;
  object-fit:cover;
  filter:brightness(0.7);
}

/* ===== Overlay ===== */
.overlay{
  min-height:100vh;
  background:linear-gradient(
    rgba(0,0,0,.4),
    rgba(0,0,0,.6)
  );
  padding:20px;
}

/* ===== Intro Animation ===== */
#intro{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:10;
}
.ball{
  font-size:120px;
  animation:zoom 2s ease forwards;
}
@keyframes zoom{
  0%{transform:scale(3)}
  100%{transform:scale(1);opacity:0}
}

/* ===== Card ===== */
.card{
  max-width:420px;
  margin:40px auto;
  background:rgba(0,0,0,.6);
  border-radius:16px;
  padding:20px;
  box-shadow:0 0 30px rgba(255,215,0,.4);
}

/* ===== Inputs & Buttons ===== */
input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  font-size:15px;
}
button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border:none;
  border-radius:10px;
  font-size:15px;
  cursor:pointer;
  color:#000;
  background:linear-gradient(45deg,#ffd700,#ff3);
}
button.secondary{
  background:linear-gradient(45deg,#00c853,#64dd17);
}
button.danger{
  background:linear-gradient(45deg,#ff5252,#ff1744);
  color:#fff;
}

/* ===== Teams ===== */
.teams{
  display:flex;
  gap:10px;
  margin-top:20px;
}
.team{
  flex:1;
  background:rgba(0,0,0,.55);
  border-radius:12px;
  padding:10px;
}
.team h3{
  margin:0 0 5px;
  text-align:center;
  color:#ffd700;
}
.member{
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  font-size:14px;
}

/* ===== Admin ===== */
.admin{
  margin-top:30px;
  opacity:.8;
}
</style>
</head>

<body>

<!-- Intro -->
<div id="intro">
  <div class="ball">âš½</div>
</div>

<!-- Video BG -->
<div class="video-bg">
  <video autoplay muted loop playsinline>
    <source src="VN20251226_133742.mp4" type="video/mp4">
  </video>
</div>

<div class="overlay">

  <div class="card" id="step-name">
    <input id="nameInput" placeholder="Ù†Ø§Ù… ÛŒØ§ ÙØ§Ù…ÛŒÙ„ÛŒ (ÙØ§Ø±Ø³ÛŒ ÛŒØ§ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ)">
    <button onclick="goRole()">Ø§Ø¯Ø§Ù…Ù‡</button>
  </div>

  <div class="card" id="step-role" style="display:none">
    <button class="secondary" onclick="register('player')">âš½ Ø¨Ø§Ø²ÛŒÚ©Ù†</button>
    <button class="secondary" onclick="register('gk')">ðŸ§¤ Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†</button>
  </div>

  <div class="teams">
    <div class="team">
      <h3>ØªÛŒÙ… A</h3>
      <div id="teamA"></div>
      <h4>ØªØ¹ÙˆÛŒØ¶ÛŒ</h4>
      <div id="subA"></div>
    </div>
    <div class="team">
      <h3>ØªÛŒÙ… B</h3>
      <div id="teamB"></div>
      <h4>ØªØ¹ÙˆÛŒØ¶ÛŒ</h4>
      <div id="subB"></div>
    </div>
  </div>

  <div class="card admin">
    <input id="adminPass" placeholder="Ø±Ù…Ø² Ø§Ø¯Ù…ÛŒÙ†">
    <button class="danger" onclick="resetAll()">Ø±ÛŒØ³Øª Ú©Ø§Ù…Ù„</button>
  </div>

</div>

<script>
/* ===== Data ===== */
const ADMIN_PASS = "admin12345";
let data = JSON.parse(localStorage.getItem("teamsData")) || {
  teamA:[], teamB:[], subA:[], subB:[], users:[]
};

/* ===== Intro remove ===== */
setTimeout(()=>document.getElementById("intro").remove(),2000);

/* ===== Flow ===== */
function goRole(){
  const name = nameInput.value.trim();
  if(!name) return alert("Ø§Ø³Ù… ÙˆØ§Ø±Ø¯ Ú©Ù†");
  if(localStorage.getItem("joined")) return alert("Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø±Ø¯ÛŒ");
  step-name.style.display="none";
  step-role.style.display="block";
}

function register(role){
  const name = nameInput.value.trim();
  if(data.users.includes(name)) return;

  let team = Math.random() < 0.5 ? "A" : "B";
  let target = data["team"+team];

  if(role==="gk"){
    if(data.teamA.some(x=>x.role==="gk")) team="B";
    if(data.teamB.some(x=>x.role==="gk")) team="A";
  }

  if(data["team"+team].length < 5){
    data["team"+team].push({name,role});
  }else{
    data["sub"+team].push({name,role});
  }

  data.users.push(name);
  localStorage.setItem("teamsData",JSON.stringify(data));
  localStorage.setItem("joined","1");
  render();
  alert("Ø«Ø¨Øª Ø´Ø¯ âœ…");
  step-role.style.display="none";
}

/* ===== Render ===== */
function render(){
  teamA.innerHTML = data.teamA.map(x=>`<div class="member">${x.role==="gk"?"ðŸ§¤":"âš½"} ${x.name}</div>`).join("");
  teamB.innerHTML = data.teamB.map(x=>`<div class="member">${x.role==="gk"?"ðŸ§¤":"âš½"} ${x.name}</div>`).join("");
  subA.innerHTML = data.subA.map(x=>`<div class="member">${x.name}</div>`).join("");
  subB.innerHTML = data.subB.map(x=>`<div class="member">${x.name}</div>`).join("");
}
render();

/* ===== Reset ===== */
function resetAll(){
  if(adminPass.value !== ADMIN_PASS) return alert("Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡");
  localStorage.clear();
  location.reload();
}
</script>

</body>
</html>
