<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>âš½ ØªÛŒÙ…â€ŒÚ©Ø´ÛŒ Ø´Ø§Ù†Ø³ÛŒ ÙÙˆØªØ¨Ø§Ù„</title>

<style>
body{
  margin:0;
  font-family:tahoma;
  background:
    linear-gradient(rgba(0,0,0,.65),rgba(0,0,0,.65)),
    url("bg.jpg") center/cover no-repeat fixed;
  color:#fff;
  text-align:center;
}

.container{
  max-width:900px;
  margin:auto;
  padding:20px;
}

h1{
  font-size:34px;
  margin-bottom:10px;
}

.card{
  background:rgba(0,0,0,0.55);
  border-radius:18px;
  padding:25px;
  margin:20px 0;
  backdrop-filter: blur(6px);
}

button{
  padding:16px 28px;
  margin:10px;
  font-size:18px;
  border:none;
  border-radius:14px;
  cursor:pointer;
}

.player{background:#4caf50;color:#fff;}
.keeper{background:#2196f3;color:#fff;}
.shuffle{background:#ff9800;color:#000;}

.team{
  background:rgba(0,0,0,0.6);
  border-radius:16px;
  padding:15px;
  margin:12px 0;
}
</style>
</head>

<body>
<div class="container">

<h1>âš½ ØªÛŒÙ…â€ŒÚ©Ø´ÛŒ Ø´Ø§Ù†Ø³ÛŒ ÙÙˆØªØ¨Ø§Ù„</h1>
<p>Ù‡Ø± Ù†ÙØ± ÙÙ‚Ø· ÛŒÚ© Ø¨Ø§Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆØ¯</p>

<div class="card">
  <h2>ØªØ¹Ø¯Ø§Ø¯ ØªÛŒÙ…â€ŒÙ‡Ø§</h2>
  <button onclick="setTeams(2)">2 ØªÛŒÙ…</button>
  <button onclick="setTeams(3)">3 ØªÛŒÙ…</button>
  <button onclick="setTeams(4)">4 ØªÛŒÙ…</button>
</div>

<div class="card">
  <h2>Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ù‚Ø´</h2>
  <button class="player" onclick="join('player')">ğŸ‘Ÿ Ø¨Ø§Ø²ÛŒÚ©Ù†</button>
  <button class="keeper" onclick="join('keeper')">ğŸ§¤ Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†</button>
</div>

<div class="card">
  <button class="shuffle" onclick="shuffle()">ğŸ² Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ ØªÛŒÙ…â€ŒÙ‡Ø§</button>
</div>

<div id="result"></div>

</div>

<script>
let teamsCount=2;
let players=[];
let joined=false;

function setTeams(n){
  teamsCount=n;
  alert("ØªØ¹Ø¯Ø§Ø¯ ØªÛŒÙ…â€ŒÙ‡Ø§ ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯: "+n);
}

function join(role){
  if(joined){
    alert("Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯ âŒ");
    return;
  }
  players.push({role});
  joined=true;
  alert("Ø«Ø¨Øª Ø´Ø¯ âœ…");
}

function shuffle(){
  let teams=[...Array(teamsCount)].map(()=>({players:[],keeper:null}));
  let shuffled=[...players].sort(()=>Math.random()-0.5);

  shuffled.forEach(p=>{
    if(p.role==="keeper"){
      let t=teams.find(t=>!t.keeper);
      if(t)t.keeper="ğŸ§¤ Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†";
    }else{
      let t=teams.sort((a,b)=>a.players.length-b.players.length)[0];
      if(t.players.length<5)t.players.push("ğŸ‘Ÿ Ø¨Ø§Ø²ÛŒÚ©Ù†");
    }
  });

  let html="";
  teams.forEach((t,i)=>{
    html+=`<div class="team"><h3>ØªÛŒÙ… ${i+1}</h3>`;
    html+=t.keeper ? t.keeper+"<br>" : "âŒ Ø¨Ø¯ÙˆÙ† Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†<br>";
    t.players.forEach(p=>html+=p+"<br>");
    html+="</div>";
  });

  document.getElementById("result").innerHTML=html;
}
</script>

</body>
</html>
